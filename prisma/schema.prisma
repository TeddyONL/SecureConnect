// Add this model to your existing schema.prisma file

model Payment {
  id          String      @id
  amount      Float
  currency    String
  orderId     String
  userId      String
  status      String      @default("pending") // pending, completed, expired
  qrHash      String      @unique
  expires     DateTime
  completedAt DateTime?
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
  user        User        @relation(fields: [userId], references: [id])

  @@index([userId])
  @@index([orderId])
  @@index([status])
}

// Add relation to User model
model User {
  // ... (existing fields)
  payments    Payment[]
}